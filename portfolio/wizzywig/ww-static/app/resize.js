(function(t){t(["app/core","app/edit","jquery","backbone","underscore","jst/jst-resize"],function(t,e,n,i,s,a){var o;o=new(i.View.extend({tagName:"div",id:"ww-resizer",template:a["wig-resize"],start_size:{x:0,y:0,width:0,height:0},events:{mousedown:"startResize"},render:function(){return this.$el.append(this.template()),this.$el.hide(),this},showOn:function(t){var e=n(t),i=e.offset();this.target_el=t,this.$target_el=n(t),this.$el.css({top:i.top+e.height()-this.$el.height(),left:i.left+e.width()-this.$el.width()}).show()},moveHandler:function(t){var e=t.pageX-o.start_size.x,n=t.pageY-o.start_size.y;o.$target_el.css({width:e+o.start_size.width,height:n+o.start_size.height})},startResize:function(t){t.preventDefault(),this.$el.hide(),s.extend(this.start_size,{x:t.pageX,y:t.pageY,width:this.$target_el.width(),height:this.$target_el.height()}),n(window).mousemove(this.moveHandler).mouseup(this.stopResize)},stopResize:function(t){t.preventDefault(),n(window).off("mousemove",o.moveHandler).off("mouseup",o.stopResize),o.showOn(o.target_el)}})),e.addModal(o,["IMG"])})})(_wig.define);